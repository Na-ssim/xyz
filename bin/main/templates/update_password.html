<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:lang="en">
<head>
    <script th:src="@{/js/passwordCheck.js}" type="text/javascript"></script>
    <title>Update Password</title>
    <style>
        #mainDiv {
            width: 50%;
            text-align: center;
            float: left;
        }
        #constraints {
            width: 50%;
            display: inline-block;
            text-align: center;
        }
        #constraints #passwordReqsHeaders {
            align-content: center;
            font-weight: bold;
            text-align: center;
        }
        .constraint {
            color: red;
        }
    </style>
</head>
<body>
<div id="mainDiv">
    <form action="#" th:action="@{'/update_password'}" method="post" >
        <label for="oldPassword">Old Password</label>
        <input type="password" id="oldPassword" name="oldPassword"/> <br />

        <label for="newPassword">New Password</label>:
        <input type="password" id="newPassword" name="newPassword" oninput="checkComplexity(this, 'confirmNewPassword', 'updatePassword')"/> <br />

        <label for="confirmNewPassword">Confirm New Password</label>:
        <input type="password" id="confirmNewPassword" name="confirmNewPassword" oninput="verifyMatch('newPassword', this, 'updatePassword')"/> <br />

        <label for="togglePasswordVis" class="label">Show Password</label>
        <input type="checkbox" onclick="togglePasswordVisibility(['oldPassword','newPassword','confirmNewPassword'])" id="togglePasswordVis"> <br />

        <button type="submit" disabled id="updatePassword">Update your password</button>
    </form>
</div>
<div id="constraints">
    <h3 id="passwordReqsHeaders">Password Requirements</h3>
    <p class="constraint" th:id="${constraint.feId}" th:value="${constraint.targetValue}" th:each="constraint: ${constraints}" th:text="${constraint.name} + ': ' + ${constraint.targetValue}"></p>
</div>
<form action="#" th:action="@{'/config'}" method="post">
    <button type="submit">Back</button>
</form>

</body>
</html>